{
  "id": "12e5551c-8d5c-408e-b3e4-63f53b03379f",
  "name": "Disable journal logging via sed utility",
  "description": "The atomic test disables the journal logging by searching and replacing the \"Storage\" parameter to \"none\" within the journald.conf file, thus any new journal entries will only be temporarily available in memory and not written to disk\n",
  "platforms": [
    "linux"
  ],
  "steps": [
    {
      "id": "f44f06d7-5e81-48e0-b50a-5706884071c8",
      "type": "execute-command",
      "data": {
        "command": "sudo sed -i 's/Storage=auto/Storage=none/' /etc/systemd/journald.conf",
        "command_type": "sh"
      },
      "elevation_required": true
    },
    {
      "id": "e301fd35-cba3-4453-8db5-e71c4fe2dbb7",
      "type": "execute-command",
      "data": {
        "command": "sudo sed -i 's/Storage=none/Storage=auto/' /etc/systemd/journald.conf #re-enables storage of journal data\nsudo systemctl restart systemd-journald #restart the journal service",
        "command_type": "sh"
      },
      "elevation_required": true
    }
  ],
  "flows": [
    {
      "s": "f44f06d7-5e81-48e0-b50a-5706884071c8",
      "p": "on-success",
      "o": "e301fd35-cba3-4453-8db5-e71c4fe2dbb7"
    },
    {
      "s": "f44f06d7-5e81-48e0-b50a-5706884071c8",
      "p": "on-failure",
      "o": "e301fd35-cba3-4453-8db5-e71c4fe2dbb7"
    }
  ],
  "tags": [
    "T1562"
  ]
}